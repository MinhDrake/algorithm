package java;
import java.util.Arrays;

public class MalwareAnalysis {
  public static int[] simulate (int[] entries) {
    int[] result = Arrays.copyOf(entries, entries.length);
    
    int leftSize = 3;
    int rightSize = 4;

    for(int i=0; i<entries.length;i++) {
      int curr = entries[i];
      Integer leftPos = null;
      Integer rightPos = null;
      if(i >=leftSize) {
          leftPos = entries[i-leftSize];
      }
      if((i + rightSize) < entries.length) {
        rightPos = entries[i+rightSize];
      }

      if(leftPos!=null && leftPos >= curr) {
        result[i] = 0;
      }
      else if (rightPos != null && rightPos >=curr) {
        result[i] = 0;
      }
     }

     return result;
  }

  public static void main(String[] args) {
    int[] records = { 1, 2, 0, 5, 0, 2, 4, 3, 3, 3 };
    System.out.println(Arrays.toString(simulate(records)));
  }

}
